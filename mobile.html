<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Drake Fan</title>

    <!-- zimjs.com - JavaScript Canvas Framework -->
    <script type="module">
      import zim from "https://zimjs.org/cdn/016/zim";

      // See Docs under Frame for FIT, FILL, FULL, and TAG
      new Frame({
        scaling: FIT,
        width: 1000,
        height: 2000,
        color: light,
        outerColor: dark,
        ready: ready,
        sensors: true,
      });
      function ready() {
        // given F (Frame), S (Stage), W (width), H (height)
        // put code here

        // for capturing tilt on device (rotation about an axis)
        // also SEE the PermissionAsk example below
       
        // and be on a mobile device

        new Tabs().siz(W).pos(0, 0, CENTER, BOTTOM);
        const label = new Label().addTo();
        F.on("deviceorientation", (e) => {
          label.text = e.rotation.y + "," + e.rotation.z;

          let rect;
          if (e.rotation.y <= -2) {
            rect = new Rectangle().center();
            S.update();
          } else if (e.rotation.y > 2) {
            rect.removeFrom();
            S.update();
          }
        });

        // on iOS, the sensors must be allowed first - this example works for all devices
        const permissionType = "deviceorientation"; // or "devicemotion"
        const ask = new PermissionAsk(init, permissionType);
        function init(yes) {
          // if the user answers yes to the PermissionAsk
          const errorPane = new Pane("SENSOR not available", yellow);
          if (yes) {
            // use the sensors
            label.text =
              decimals(e.rotation.x) +
              "," +
              decimals(e.rotation.y) +
              "," +
              decimals(e.rotation.z);
            S.update();
          } else {
            // answered no to PermissionAsk dialog
            errorPane.show();
          }
        }

        STYLE = { bgColor: purple, once: true, paddingH: 20, skewX: 10 };
        const logo = new Label("BIRTHDAY", 50, "Madimi One", yellow);
        const heart = makeIcon("heart", pink);
        const settings = makeIcon("menu", purple);
        // listIcons()

        STYLE = { align: CENTER, valign: CENTER };
        const header = new Tile(
          [heart, logo, settings],
          3,
          1,
          160,
          0,
          "unique"
        );

        const content = new Container(600, 800);
        new Rectangle(
          content.width,
          content.height,
          new GradientColor([white, blue], 90)
        ).addTo(content);
        new Tile(
          [new Dial(), new Stepper(), new Selector(), new Toggle()],
          2,
          2,
          30,
          40
        )
          .scaleTo(content, 90, 90)
          .center(content);

        const footer = new Container(500, 100);
        const slider = new Slider({
          sound: true,
          vertical: false,
          useLabels: true,
        }).center(footer);
        S.addChild(header, content, footer);

        new Layout({
          holder: S,
          regions: [
            { obj: header, marginTop: 3, maxWidth: 90 },
            { obj: content, marginTop: 5 },
            { obj: footer, valign: CENTER, marginTop: 5, maxWidth: 80 },
          ],
          lastMargin: 3,
          showRegions: true,
        });
      } // end ready
    </script>
    <meta name="viewport" content="width=device-width, user-scalable=no" />
    <style>
      body {
        background-image: url("assets/drake.jpg");
        /* background-repeat: no-repeat; */
        background-size: 50%;
      }
    </style>
  </head>
  <body></body>
</html>
